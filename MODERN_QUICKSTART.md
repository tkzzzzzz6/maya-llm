# 🚀 麻鸭语音助手 v2.0 - 快速开始

## ✨ 全新现代化界面

### ChatGPT/Claude 风格
- 💬 **对话气泡** - 就像和真人聊天
- 🌊 **流式输出** - 逐字显示，打字机效果
- 🌓 **主题切换** - 支持深色/浅色模式
- 📱 **响应式** - 完美适配手机/平板/电脑
- 🎨 **现代设计** - 精美的渐变色和动画

---

## 🎯 一分钟启动

### Windows 用户
```bash
# 双击运行
start_maya_modern.bat
```

### Linux/Mac 用户
```bash
# 添加执行权限（仅第一次）
chmod +x start_maya_modern.sh

# 运行
./start_maya_modern.sh
```

### 或直接运行
```bash
python maya_webui_modern.py
```

---

## 📸 界面预览

### 主界面
```
╔════════════════════════════════════════════╗
║  🦆 麻鸭语音助手                          ║
║  Maya Voice Assistant v2.0                ║
╚════════════════════════════════════════════╝

┌─────────────────────────┬───────────────┐
│  💬 聊天区域            │  ⚙️ 设置     │
│  ┌──────────────────┐  │               │
│  │ 👤 你好，麻鸭    │  │  [加载模型]   │
│  └──────────────────┘  │               │
│                         │  🔑 唤醒词    │
│  ┌──────────────────┐  │  👤 声纹      │
│  │ 🦆 你好！我是... │  │  🔊 语音      │
│  │     有什么可以... │  │  🎨 人设      │
│  └──────────────────┘  │               │
│                         │               │
│  💬 [输入消息...]      │               │
│  🎙️ [语音] 📤 [发送]  │               │
└─────────────────────────┴───────────────┘
```

---

## 🎨 核心特性

### 1️⃣ 流式对话
```
你：北京今天天气怎么样？

🦆：北
🦆：北京
🦆：北京今
🦆：北京今天
🦆：北京今天晴
...
🦆：北京今天晴，温度20-28度，适合出行！
```

### 2️⃣ 主题切换
- ☀️ **浅色模式** - 白天使用
- 🌙 **深色模式** - 夜间护眼
- 📱 点击右下角切换

### 3️⃣ 侧边栏设置
- 🚀 一键加载模型
- 🔑 开关唤醒词
- 👤 开关声纹验证
- 🔊 开关语音合成
- 🎨 自定义AI人设

### 4️⃣ 智能输入
- 💬 **文字输入** - 直接打字
- 🎙️ **语音输入** - 点击麦克风录音
- 🔄 **自动识别** - 语音转文字自动填充

---

## 📖 使用教程

### 第一次使用

#### 1. 加载模型
```
1. 点击右侧"⚙️ 设置"
2. 点击"🚀 加载模型"
3. 等待 1-3 分钟（首次需下载）
4. 看到"✅ 所有模型加载成功！"
```

#### 2. 开始对话
```
方式1 - 文字对话（最简单）
1. 在底部输入框输入："你好"
2. 点击"📤 发送"
3. 等待回复（流式显示）

方式2 - 语音对话
1. 点击🎙️图标录音
2. 说："yaya，今天天气怎么样？"
3. 点击"📤 发送"
4. 收到文字和语音回复
```

### 进阶功能

#### 🔑 开启关键词唤醒
```
用途：保护隐私，避免误触发

设置：
1. 勾选"🔑 关键词唤醒"
2. 设置唤醒词："yaya"（可自定义）

使用：
❌ "今天天气怎么样？" → 不响应
✅ "yaya，今天天气怎么样？" → 响应
```

#### 👤 开启声纹验证
```
用途：专属助手，只有你能用

设置：
1. 点击"👤 声纹"标签
2. 录制 3-10 秒清晰语音
3. 点击"✅ 注册"
4. 回到"⚙️ 设置"
5. 勾选"👤 声纹验证"

使用：
只有注册用户的语音才能通过验证
```

#### 🎨 自定义AI人设
```
默认人设：
"你叫小千，是一个18岁的女大学生，
 性格活泼开朗，说话俏皮简洁，
 回答问题不会超过50字。"

自定义示例：

专业助手：
"你是一名专业的AI助手，擅长解答各类问题，
 回答准确、简洁、专业。"

幽默助手：
"你是一个幽默风趣的助手，喜欢用轻松有趣的方式
 回答问题，经常用emoji和比喻。"

技术专家：
"你是一名资深软件工程师，擅长Python、AI、Web开发，
 回答时会给出代码示例和最佳实践。"
```

---

## 💡 使用技巧

### 场景1：快速问答（推荐新手）
```
配置：
☐ 关键词唤醒  （关闭）
☐ 声纹验证    （关闭）
☑ 语音合成    （开启）

操作：
直接打字问问题即可
```

### 场景2：语音助手
```
配置：
☑ 关键词唤醒  （开启）
唤醒词：yaya

☐ 声纹验证    （关闭）
☑ 语音合成    （开启）

操作：
录音说："yaya，[你的问题]"
```

### 场景3：专属助手
```
配置：
☑ 关键词唤醒  （开启）
☑ 声纹验证    （开启）
☑ 语音合成    （开启）

操作：
先注册声纹，然后录音提问
只有你的声音可以通过验证
```

### 场景4：公共场合
```
配置：
☐ 关键词唤醒  （关闭）
☐ 声纹验证    （关闭）
☐ 语音合成    （关闭）

操作：
文字输入输出，无声使用
```

---

## 🎯 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 发送消息 |
| `Ctrl + /` | 切换主题 |
| `Esc` | 取消录音 |

---

## 🌓 主题切换

### 切换方法
1. 点击页面右下角的图标
2. 选择"浅色"或"深色"

### 主题对比
```
浅色模式 ☀️          深色模式 🌙
┌─────────┐         ┌─────────┐
│ 白色背景 │         │ 黑色背景 │
│ 黑色文字 │         │ 白色文字 │
│ 清新淡雅 │         │ 护眼舒适 │
└─────────┘         └─────────┘
```

---

## 📱 多设备支持

### 手机访问
```
1. 确保手机和电脑在同一WiFi
2. 查看电脑IP（如：192.168.1.100）
3. 手机浏览器访问：
   http://192.168.1.100:7860
```

### 平板访问
同手机，自动适配横屏/竖屏

### 电脑访问
```
http://localhost:7860
```

---

## ⚠️ 常见问题

### Q1: 模型加载很慢
**A**: 首次运行需要下载约 2-3GB 模型
- ✅ 耐心等待 1-3 分钟
- ✅ 后续启动秒开

### Q2: 没看到流式输出效果
**A**: 
1. 检查是否启用了队列
2. 刷新页面重试
3. 清空浏览器缓存

### Q3: 主题切换在哪里
**A**: 页面右下角，Gradio 自带的主题切换按钮

### Q4: 手机访问不了
**A**: 
1. 确保同一WiFi
2. 检查防火墙
3. 使用 `--share` 生成公网链接

### Q5: 对话没有记忆
**A**: 
- 正常情况下有记忆（最近512字）
- 点击"🗑️ 清空"会清除记忆
- 重启程序会重置记忆

---

## 🔧 高级配置

### 更改端口
```bash
python maya_webui_modern.py --port 8080
```

### 生成公网链接
```bash
python maya_webui_modern.py --share
```

### 指定服务器地址
```bash
python maya_webui_modern.py --server-name 0.0.0.0
```

---

## 🆚 vs v1.0 标准版

| 特性 | v1.0 | v2.0 ⭐ |
|------|------|--------|
| 界面风格 | 传统表单 | ChatGPT 风格 |
| 对话方式 | 文本框 | 聊天气泡 |
| 流式输出 | ❌ | ✅ |
| 主题切换 | ❌ | ✅ |
| 响应式 | 基础 | 完全 |
| 视觉效果 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |

**推荐：** 日常使用选 v2.0，调试测试选 v1.0

详见：`docs/UI_Comparison.md`

---

## 🎉 开始使用

```bash
# Windows
start_maya_modern.bat

# Linux/Mac
sh start_maya_modern.sh

# 或直接运行
python maya_webui_modern.py
```

浏览器自动打开：`http://localhost:7860`

---

## 💬 反馈

使用过程中有任何问题或建议：
- 📧 提交 Issue
- 💬 加入交流群

---

## 🦆 祝您使用愉快！

**麻鸭语音助手 v2.0** - 让对话更自然，更智能！

