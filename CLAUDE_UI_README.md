# 🦆 麻鸭语音助手 v3.0 - Claude 风格界面

## ✨ 全新升级

我们完全重新设计了用户界面，灵感来自 Claude AI 的优雅设计风格。新界面不仅美观，更注重用户体验和功能性。

---

## 🎨 设计亮点

### 1. Claude 经典配色
- **主色调**：温暖的橙色 (#CC785C) - Claude 标志性颜色
- **渐变背景**：柔和的米色到白色渐变
- **深色模式**：护眼的暗色主题
- **高对比度**：确保可读性

### 2. 极简布局
```
┌─────────────────────────────────────────┐
│  🦆 麻鸭语音助手    Claude Style · AI  │  ← 顶部导航栏
├─────────────────┬───────────────────────┤
│                 │  ⚙️ 设置              │
│   对话区域      │  ━━━━━━━━━━━━━━━━━   │
│   👤 你：...   │  模型管理             │
│   🦆 麻鸭：... │  对话控制             │
│                 │  AI 人设              │
│                 │  声纹注册             │
│   [输入框...]  │  使用指南             │
│   🎙️ 录音 发送 ↑│                      │
├─────────────────┴───────────────────────┤
│  页脚信息 · GitHub Link                │
└─────────────────────────────────────────┘
```

### 3. 流畅动效
- **消息滑入动画**：新消息从下方平滑滑入
- **打字机效果**：AI 回复逐字显示
- **悬停反馈**：按钮和卡片的微妙交互
- **状态指示器**：带脉冲动画的状态点

---

## 🚀 快速开始

### 启动应用

```bash
# 基础启动
python app.py

# 指定端口
python app.py --port 8080

# 生成公网分享链接
python app.py --share

# 启用调试模式
python app.py --debug
```

### 首次使用

1. **加载模型**
   - 点击右侧侧边栏的 "🚀 加载所有模型"
   - 等待 1-3 分钟（首次需下载模型）
   - 看到 "✅ 所有模型加载成功" 即可开始

2. **开始对话**
   - 在底部输入框输入消息
   - 按 `Enter` 或点击 "发送 ↑" 按钮
   - 支持 `Shift + Enter` 换行

3. **语音交互**
   - 点击 "🎙️ 录音" 按钮
   - 对着麦克风说话
   - 再次点击停止录音
   - 点击 "发送 ↑" 发送语音

---

## ⚙️ 功能详解

### 对话控制

#### 🔑 关键词唤醒
- **用途**：保护隐私，避免误触发
- **设置**：
  1. 勾选 "🔑 关键词唤醒"
  2. 设置唤醒词（默认："yaya"）
- **使用**：
  - ❌ "今天天气怎么样？" → 不响应
  - ✅ "yaya，今天天气怎么样？" → 响应

#### 👤 声纹验证
- **用途**：专属助手，仅注册用户可用
- **设置**：
  1. 滚动到 "声纹注册" 区域
  2. 录制 3-10 秒清晰语音
  3. 点击 "✅ 注册声纹"
  4. 勾选 "👤 声纹验证" 启用
- **提示**：建议说 "你好，我是[你的名字]，这是我的声纹"

#### 🔊 语音合成
- **用途**：自动播放 AI 的语音回复
- **技术**：Edge TTS（支持多语种）
- **设置**：勾选/取消勾选 "🔊 语音合成"

### AI 人设

自定义 AI 的性格和回答风格：

```
默认人设：
"你叫小千，是一个21岁的畜牧专业的女大学生，
性格活泼开朗，说话俏皮简洁，回答问题不会超过50字。"
```

**自定义示例**：

```
专业助手：
"你是一名专业的 AI 助手，擅长解答各类问题，
回答准确、简洁、专业。"

幽默陪伴：
"你是一个幽默风趣的助手，喜欢用轻松有趣的方式
回答问题，经常用 emoji 和比喻。"

技术专家：
"你是一名资深软件工程师，擅长 Python、AI、Web 开发，
回答时会给出代码示例和最佳实践。"
```

---

## 🎨 主题与样式

### 浅色模式（默认）
- 温暖的米白色背景 (#F8F3EF → #FEFCFB)
- 深色文字 (#1A1A1A)
- Claude 橙色强调色 (#CC785C)

### 深色模式
- 深灰色背景 (#1A1A1A → #0F0F0F)
- 浅色文字 (#ECECEC)
- 调亮的橙色强调色 (#E69A7B)

### 切换方式
点击 Gradio 内置的主题切换按钮（右下角月亮/太阳图标）

---

## 📱 响应式设计

### 桌面端（> 1024px）
- 左侧对话区 + 右侧侧边栏（360px）
- 完整功能展示

### 平板端（768px - 1024px）
- 侧边栏宽度调整为 320px
- 布局保持稳定

### 移动端（< 768px）
- 自动切换为上下布局
- 对话区在上，设置区在下
- 触摸优化

---

## ⌨️ 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 发送消息 |
| `Shift + Enter` | 换行 |
| `Esc` | 取消当前操作 |

---

## 🔧 高级配置

### 命令行参数

```bash
python app.py [选项]

选项：
  --port PORT          端口号 (默认: 7860)
  --share              生成公网分享链接
  --server-name NAME   服务器地址 (默认: 0.0.0.0)
  --debug              启用调试模式（显示详细日志和 API）
```

### 验证阈值调整

声纹验证灵敏度控制：
- **0.1-0.2**：非常宽松（容易通过）
- **0.3-0.4**：平衡（推荐）
- **0.5-0.9**：严格（不易通过）

---

## 🆚 版本对比

| 特性 | v1.0 传统版 | v2.0 现代版 | v3.0 Claude 版 |
|------|------------|-------------|----------------|
| 界面风格 | 传统表单 | ChatGPT 风格 | Claude 风格 |
| 主题配色 | 紫色渐变 | 绿色主题 | 橙色主题 |
| 布局方式 | 垂直堆叠 | 卡片布局 | 左右分栏 |
| 流式输出 | ❌ | ✅ | ✅ |
| 打字机效果 | ❌ | 基础 | 高级 |
| 状态指示 | 文本 | 徽章 | 动画徽章 |
| 响应式 | 基础 | 良好 | 完美 |
| 自定义主题 | ❌ | ❌ | ✅ |
| 视觉评分 | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |

---

## 🎯 使用场景

### 场景 1：日常聊天助手
```
配置：
☐ 关键词唤醒  (关闭)
☐ 声纹验证    (关闭)
☑ 语音合成    (开启)

操作：直接打字聊天即可
```

### 场景 2：语音助手
```
配置：
☑ 关键词唤醒  (开启)
唤醒词：yaya

☐ 声纹验证    (关闭)
☑ 语音合成    (开启)

操作：录音说 "yaya，[你的问题]"
```

### 场景 3：专属私人助手
```
配置：
☑ 关键词唤醒  (开启)
☑ 声纹验证    (开启)
☑ 语音合成    (开启)

操作：
1. 先注册声纹
2. 录音提问（需通过声纹验证）
```

### 场景 4：公共场合无声使用
```
配置：
☐ 关键词唤醒  (关闭)
☐ 声纹验证    (关闭)
☐ 语音合成    (关闭)

操作：纯文字输入输出
```

---

## 💡 设计哲学

### Claude 的设计原则

1. **简洁优先**：去除不必要的装饰，专注内容
2. **温暖亲和**：使用温暖的色调和圆角设计
3. **清晰层次**：合理的间距和视觉层级
4. **流畅交互**：平滑的动画和即时反馈
5. **无障碍性**：高对比度和清晰的视觉提示

### 我们的实现

- **颜色系统**：CSS 变量统一管理，支持主题切换
- **间距系统**：4px 基准网格，保持一致性
- **圆角系统**：8px/12px/16px/24px 层级
- **阴影系统**：4 级阴影，表达深度
- **动画系统**：cubic-bezier 缓动，自然流畅

---

## 🐛 常见问题

### Q: 界面显示异常？
**A**:
1. 清空浏览器缓存（Ctrl + Shift + Delete）
2. 刷新页面（Ctrl + R 或 Cmd + R）
3. 尝试使用 Chrome/Edge 浏览器

### Q: 模型加载失败？
**A**:
1. 检查网络连接
2. 查看终端错误信息
3. 确保有足够的磁盘空间（> 5GB）
4. 使用 `--debug` 模式查看详细日志

### Q: 语音无法录制？
**A**:
1. 检查浏览器麦克风权限
2. 确保麦克风设备正常工作
3. 尝试在 HTTPS 环境下使用

### Q: 主题切换在哪里？
**A**:
Gradio 内置的主题切换按钮，通常在页面右下角（月亮/太阳图标）

### Q: 如何恢复默认设置？
**A**:
刷新页面即可恢复所有默认设置（对话历史会清空）

---

## 📊 性能优化

### 前端优化
- CSS 变量减少重绘
- 平滑滚动使用 `scroll-behavior: smooth`
- 动画使用 GPU 加速（transform）
- 懒加载和虚拟滚动

### 后端优化
- 流式输出减少等待时间
- 队列系统管理并发请求
- 模型单例模式避免重复加载

---

## 🙏 致谢

- **设计灵感**：[Claude AI](https://claude.ai) by Anthropic
- **UI 框架**：[Gradio](https://gradio.app/)
- **字体**：Inter (Google Fonts)
- **技术栈**：SenseVoice · Qwen2.5 · CAM++ · Edge TTS

---

## 📝 更新日志

### v3.0 (2025-10-03)
- 🎨 全新 Claude 风格界面
- 🌓 深色/浅色主题支持
- 💬 优化流式输出和打字机效果
- 📱 完善响应式布局
- ⚙️ 改进状态指示系统
- 🎙️ 优化语音交互流程

### v2.0
- ChatGPT 风格对话界面
- 基础流式输出
- 卡片式布局

### v1.0
- 传统表单界面
- 基础功能实现

---

## 🔗 相关链接

- [项目仓库](https://github.com/yourusername/maya-llm)
- [问题反馈](https://github.com/yourusername/maya-llm/issues)
- [开发文档](./docs/Project_Structure.md)
- [使用指南](./docs/UsageGuide.zh-CN.md)

---

<div align="center">

🦆 **麻鸭语音助手 v3.0** · Made with ❤️

基于 SenseVoice + Qwen2.5 + CAM++ + Edge TTS

[GitHub](https://github.com) · [文档](./docs) · [反馈](https://github.com/issues)

</div>
